<div align="center">
  <br />

  <div>
    <img src="https://img.shields.io/badge/-Next.JS_15-black?style=for-the-badge&logoColor=white&logo=nextdotjs&color=black" alt="next.js" />
    <img src="https://img.shields.io/badge/-React_19-61DAFB?style=for-the-badge&logo=react&logoColor=black" alt="react" />
    <img src="https://img.shields.io/badge/-TypeScript-3178C6?style=for-the-badge&logo=typescript&logoColor=white" alt="typescript" />
    <img src="https://img.shields.io/badge/-Tailwind_v4-06B6D4?style=for-the-badge&logo=tailwind-css&logoColor=white" alt="tailwind" />
    <img src="https://img.shields.io/badge/-Clerk-6C47FF?style=for-the-badge&logoColor=white&logo=clerk" alt="clerk" />
    <img src="https://img.shields.io/badge/-Supabase-3FCF8E?style=for-the-badge&logo=supabase&logoColor=white" alt="supabase" />
  </div>

  <h1 align="center">ëª¨ë‘ì‡¼í•‘</h1>
  <h3 align="center">Next.js 15 + Clerk + Supabase ì‡¼í•‘ëª° MVP</h3>

  <p align="center">
    ê°„í¸í•˜ê³  ë¹ ë¥¸ ì˜¨ë¼ì¸ ì‡¼í•‘ëª° - ìµœì†Œ ê¸°ëŠ¥ìœ¼ë¡œ ë¹ ë¥¸ ì‹œì¥ ê²€ì¦
  </p>
</div>

## ğŸ“‹ ëª©ì°¨

1. [ì†Œê°œ](#ì†Œê°œ)
2. [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
3. [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
4. [ì‹œì‘í•˜ê¸°](#ì‹œì‘í•˜ê¸°)
5. [ì¶”ê°€ ì„¤ì • ë° íŒ](#ì¶”ê°€-ì„¤ì •-ë°-íŒ)
6. [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)

## ì†Œê°œ

ëª¨ë‘ì‡¼í•‘ì€ Next.js 15, Clerk, Supabaseë¥¼ í™œìš©í•œ ëª¨ë˜ ì˜¨ë¼ì¸ ì‡¼í•‘ëª° MVPì…ë‹ˆë‹¤.

**í•µì‹¬ íŠ¹ì§•:**
- âœ¨ Next.js 15 + React 19 ìµœì‹  ê¸°ëŠ¥ í™œìš©
- ğŸ” Clerkì™€ Supabase ë„¤ì´í‹°ë¸Œ í†µí•© (2025ë…„ ê¶Œì¥ ë°©ì‹)
- ğŸ¨ Tailwind CSS v4 + shadcn/ui
- ğŸ“± ì™„ì „í•œ ë°˜ì‘í˜• ë””ìì¸
- ğŸŒ í•œêµ­ì–´ ì§€ì› (Clerk í•œêµ­ì–´ ë¡œì»¬ë¼ì´ì œì´ì…˜)
- ğŸ›’ ìƒí’ˆ ì¡°íšŒ, ì¥ë°”êµ¬ë‹ˆ, ì£¼ë¬¸ ê´€ë¦¬ ê¸°ëŠ¥
- ğŸ“¦ ì£¼ë¬¸ ë‚´ì—­ ì¡°íšŒ ë° ê´€ë¦¬

**í”„ë¡œì íŠ¸ ëª©ì :**
- ìµœì†Œ ê¸°ëŠ¥ìœ¼ë¡œ ë¹ ë¥¸ ì‹œì¥ ê²€ì¦
- ê°„ë‹¨í•œ êµ¬ì¡°ì™€ ì ì€ ê¸°ëŠ¥ìœ¼ë¡œë„ ì‹¤ì œ êµ¬ë§¤ ì „í™˜ì´ ì¼ì–´ë‚˜ëŠ”ì§€ í™•ì¸
- í…ŒìŠ¤íŠ¸ ê²°ì œ ê¸°ëŠ¥ì„ í¬í•¨í•œ ì‹¤ë™ì‘ ì‡¼í•‘ëª°

## ê¸°ìˆ  ìŠ¤íƒ

### í”„ë ˆì„ì›Œí¬ & ë¼ì´ë¸ŒëŸ¬ë¦¬

- **[Next.js 15](https://nextjs.org/)** - React í”„ë ˆì„ì›Œí¬ (App Router, Server Components)
- **[React 19](https://react.dev/)** - UI ë¼ì´ë¸ŒëŸ¬ë¦¬
- **[TypeScript](https://www.typescriptlang.org/)** - íƒ€ì… ì•ˆì •ì„±

### ì¸ì¦ & ë°ì´í„°ë² ì´ìŠ¤

- **[Clerk](https://clerk.com/)** - ì‚¬ìš©ì ì¸ì¦ ë° ê´€ë¦¬
  - Google, ì´ë©”ì¼ ë“± ë‹¤ì–‘í•œ ë¡œê·¸ì¸ ë°©ì‹ ì§€ì›
  - í•œêµ­ì–´ UI ì§€ì›
  - Supabaseì™€ ë„¤ì´í‹°ë¸Œ í†µí•©
- **[Supabase](https://supabase.com/)** - PostgreSQL ë°ì´í„°ë² ì´ìŠ¤
  - ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”
  - Row Level Security (RLS) - ê°œë°œ í™˜ê²½ì—ì„œëŠ” ë¹„í™œì„±í™”
  - íŒŒì¼ ìŠ¤í† ë¦¬ì§€

### UI & ìŠ¤íƒ€ì¼ë§

- **[Tailwind CSS v4](https://tailwindcss.com/)** - ìœ í‹¸ë¦¬í‹° ìš°ì„  CSS í”„ë ˆì„ì›Œí¬
- **[shadcn/ui](https://ui.shadcn.com/)** - ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **[Radix UI](https://www.radix-ui.com/)** - ì ‘ê·¼ì„± ë†’ì€ í—¤ë“œë¦¬ìŠ¤ ì»´í¬ë„ŒíŠ¸
- **[lucide-react](https://lucide.dev/)** - ì•„ì´ì½˜ ë¼ì´ë¸ŒëŸ¬ë¦¬

### í¼ & ê²€ì¦

- **[React Hook Form](https://react-hook-form.com/)** - í¼ ìƒíƒœ ê´€ë¦¬
- **[Zod](https://zod.dev/)** - ìŠ¤í‚¤ë§ˆ ê²€ì¦

### í…ŒìŠ¤íŠ¸

- **[Playwright](https://playwright.dev/)** - E2E í…ŒìŠ¤íŠ¸

## ì£¼ìš” ê¸°ëŠ¥

### ğŸ›ï¸ ìƒí’ˆ ê´€ë¦¬
- í™ˆí˜ì´ì§€: ìƒí’ˆ ëª©ë¡ Grid ë ˆì´ì•„ì›ƒ í‘œì‹œ
- ìƒí’ˆ ëª©ë¡ í˜ì´ì§€: í˜ì´ì§€ë„¤ì´ì…˜, ì •ë ¬, ì¹´í…Œê³ ë¦¬ í•„í„°ë§
- ìƒí’ˆ ìƒì„¸ í˜ì´ì§€: ì¬ê³ , ê°€ê²©, ì„¤ëª… í‘œì‹œ
- ì¹´í…Œê³ ë¦¬ë³„ ìƒí’ˆ ì¡°íšŒ

### ğŸ›’ ì¥ë°”êµ¬ë‹ˆ
- ì¥ë°”êµ¬ë‹ˆì— ìƒí’ˆ ì¶”ê°€/ì‚­ì œ
- ìˆ˜ëŸ‰ ë³€ê²½
- ì¥ë°”êµ¬ë‹ˆ ë°°ì§€ë¡œ ì‹¤ì‹œê°„ ê°œìˆ˜ í‘œì‹œ

### ğŸ“¦ ì£¼ë¬¸ ê´€ë¦¬
- ì£¼ë¬¸ ìƒì„± íë¦„ (ë°°ì†¡ì§€ ì •ë³´ ì…ë ¥ í¬í•¨)
- ì£¼ë¬¸ í…Œì´ë¸” ì €ì¥ (`orders`, `order_items`)
- í•©ê³„ ê²€ì¦ (í´ë¼ì´ì–¸íŠ¸ vs ì„œë²„ ê³„ì‚°)
- ì¬ê³  í™•ì¸ ë° ì°¨ê°

### ğŸ‘¤ ë§ˆì´í˜ì´ì§€
- ì£¼ë¬¸ ë‚´ì—­ ëª©ë¡ ì¡°íšŒ (ì‚¬ìš©ìë³„)
- ì£¼ë¬¸ ìƒì„¸ ë³´ê¸° (`order_items` í¬í•¨)
- ì£¼ë¬¸ ìƒíƒœ í™•ì¸

### ğŸ” ì¸ì¦ ì‹œìŠ¤í…œ
- Clerkë¥¼ í†µí•œ ì•ˆì „í•œ ì‚¬ìš©ì ì¸ì¦
- ì†Œì…œ ë¡œê·¸ì¸ ì§€ì› (Google ë“±)
- Clerk ì‚¬ìš©ì ìë™ìœ¼ë¡œ Supabase DBì— ë™ê¸°í™”
- í•œêµ­ì–´ UI ì§€ì›

### ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ í†µí•©
- Clerk í† í° ê¸°ë°˜ Supabase ì¸ì¦ (JWT í…œí”Œë¦¿ ë¶ˆí•„ìš”)
- í™˜ê²½ë³„ Supabase í´ë¼ì´ì–¸íŠ¸ ë¶„ë¦¬:
  - Client Componentìš© (`useClerkSupabaseClient`)
  - Server Componentìš© (`createClerkSupabaseClient`)
  - ê´€ë¦¬ì ê¶Œí•œìš© (`createServiceRoleClient`)
- SQL ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œìŠ¤í…œ

### ğŸ¨ UI/UX
- shadcn/ui ê¸°ë°˜ ëª¨ë˜ ì»´í¬ë„ŒíŠ¸
- ì™„ì „í•œ ë°˜ì‘í˜• ë””ìì¸
- ë‹¤í¬/ë¼ì´íŠ¸ ëª¨ë“œ ì§€ì›
- ì ‘ê·¼ì„± ì¤€ìˆ˜ (WCAG)

### ğŸ—ï¸ ì•„í‚¤í…ì²˜
- Server Actions ìš°ì„  ì‚¬ìš©
- íƒ€ì… ì•ˆì „ì„± ë³´ì¥ (Zod + TypeScript)
- ëª¨ë“ˆí™”ëœ ì½”ë“œ êµ¬ì¡°
- Next.js 15 ìµœì‹  íŒ¨í„´ ì ìš©

## ì‹œì‘í•˜ê¸°

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

ì‹œìŠ¤í…œì— ë‹¤ìŒì´ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤:

- [Git](https://git-scm.com/)
- [Node.js](https://nodejs.org/en) (v18 ì´ìƒ)
- [pnpm](https://pnpm.io/) (ê¶Œì¥ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €)

```bash
# pnpm ì„¤ì¹˜
npm install -g pnpm
```

### í”„ë¡œì íŠ¸ ì´ˆê¸°í™”

ë‹¤ìŒ ë‹¨ê³„ë¥¼ ìˆœì„œëŒ€ë¡œ ì§„í–‰í•˜ì„¸ìš”:

#### 1. ì €ì¥ì†Œ í´ë¡  ë° ì˜ì¡´ì„± ì„¤ì¹˜

```bash
git clone https://github.com/jaykimdevop/shopping_mall_mvp_w_boilerplate.git
cd shopping_mall_mvp_w_boilerplate
pnpm install
```

#### 2. Supabase í”„ë¡œì íŠ¸ ìƒì„±

1. [Supabase Dashboard](https://supabase.com/dashboard)ì— ì ‘ì†í•˜ì—¬ ë¡œê·¸ì¸
2. **"New Project"** í´ë¦­
3. Organization ì„ íƒ (ì—†ìœ¼ë©´ ìƒˆë¡œ ìƒì„±)
4. í”„ë¡œì íŠ¸ ì •ë³´ ì…ë ¥:
   - **Name**: ì›í•˜ëŠ” í”„ë¡œì íŠ¸ ì´ë¦„
   - **Database Password**: ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ ìƒì„± (ê¸°ì–µí•  í•„ìš” ì—†ìŒ, Supabaseê°€ ê´€ë¦¬)
   - **Region**: `Northeast Asia (Seoul)` ì„ íƒ (í•œêµ­ ì„œë¹„ìŠ¤ìš©)
   - **Pricing Plan**: Free ë˜ëŠ” Pro ì„ íƒ
5. **"Create new project"** í´ë¦­í•˜ê³  í”„ë¡œì íŠ¸ê°€ ì¤€ë¹„ë  ë•Œê¹Œì§€ ëŒ€ê¸° (~2ë¶„)

#### 3. Clerk í”„ë¡œì íŠ¸ ìƒì„±

1. [Clerk Dashboard](https://dashboard.clerk.com/)ì— ì ‘ì†í•˜ì—¬ ë¡œê·¸ì¸
2. **"Create application"** í´ë¦­
3. ì• í”Œë¦¬ì¼€ì´ì…˜ ì •ë³´ ì…ë ¥:
   - **Application name**: ì›í•˜ëŠ” ì´ë¦„ (ì˜ˆ: `ëª¨ë‘ì‡¼í•‘`)
   - **Sign-in options**: Email, Google ë“± ì›í•˜ëŠ” ì¸ì¦ ë°©ì‹ ì„ íƒ
4. **"Create application"** í´ë¦­
5. Quick Start í™”ë©´ì—ì„œ **"Continue in Dashboard"** í´ë¦­

#### 4. Clerk + Supabase í†µí•©

> **ì¤‘ìš”**: 2025ë…„ 4ì›”ë¶€í„° Clerkì˜ ë„¤ì´í‹°ë¸Œ Supabase í†µí•©ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. JWT Templateì€ ë” ì´ìƒ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

**4-1. Clerk Dashboardì—ì„œ Supabase í†µí•© í™œì„±í™”**

1. [Clerk Dashboardì˜ Supabase í†µí•© í˜ì´ì§€](https://dashboard.clerk.com/setup/supabase)ë¡œ ì´ë™
2. ì„¤ì • ì˜µì…˜ì„ ì„ íƒí•˜ê³  **"Activate Supabase integration"** í´ë¦­
3. í‘œì‹œëœ **Clerk domain**ì„ ë³µì‚¬ (ì˜ˆ: `your-app.clerk.accounts.dev`)
   - ì´ ê°’ì€ ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤

**4-2. Supabase Dashboardì—ì„œ Clerk Third-Party Auth ì¶”ê°€**

1. [Supabase Dashboard](https://supabase.com/dashboard)ì—ì„œ í”„ë¡œì íŠ¸ ì„ íƒ
2. **Authentication > Sign In / Up** ë©”ë‰´ë¡œ ì´ë™
3. **Third-Party Auth** ì„¹ì…˜ì—ì„œ **"Add provider"** í´ë¦­
4. **"Clerk"** ì„ íƒ
5. ë³µì‚¬í•œ **Clerk domain**ì„ ì…ë ¥í•˜ê³  ì €ì¥

**4-3. í†µí•© í™•ì¸**

- [Clerk ê³µì‹ í†µí•© ê°€ì´ë“œ](https://clerk.com/docs/guides/development/integrations/databases/supabase)ì—ì„œ ì¶”ê°€ ì •ë³´ í™•ì¸
- [í”„ë¡œì íŠ¸ í†µí•© ê°€ì´ë“œ ë¬¸ì„œ](./docs/CLERK_SUPABASE_INTEGRATION.md) ì°¸ê³ 

#### 5. Supabase Storage ìƒì„± ë° ì„¤ì •

1. Supabase Dashboard â†’ **Storage** ë©”ë‰´
2. **"New bucket"** í´ë¦­
3. ë²„í‚· ì •ë³´ ì…ë ¥:
   - **Name**: `uploads` (`.env.example`ê³¼ ë™ì¼í•˜ê²Œ)
   - **Public bucket**: í•„ìš”ì— ë”°ë¼ ì„ íƒ
     - Public: ëˆ„êµ¬ë‚˜ URLë¡œ íŒŒì¼ ì ‘ê·¼ ê°€ëŠ¥
     - Private: ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼ (RLS ì •ì±… í•„ìš”)
4. **"Create bucket"** í´ë¦­

#### 6. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì ìš©

1. Supabase Dashboard â†’ **SQL Editor** ë©”ë‰´
2. **"New query"** í´ë¦­
3. `supabase/migrations/db.sql` íŒŒì¼ ë‚´ìš©ì„ ë³µì‚¬í•˜ì—¬ ë¶™ì—¬ë„£ê¸°
4. **"Run"** í´ë¦­í•˜ì—¬ ì‹¤í–‰
5. ì„±ê³µ ë©”ì‹œì§€ í™•ì¸ (`Success. No rows returned`)

**ìƒì„±ë˜ëŠ” í…Œì´ë¸”:**
- `users`: Clerk ì‚¬ìš©ìì™€ ë™ê¸°í™”ë˜ëŠ” ì‚¬ìš©ì ì •ë³´ í…Œì´ë¸”
- `products`: ìƒí’ˆ ì •ë³´ í…Œì´ë¸”
- `cart_items`: ì¥ë°”êµ¬ë‹ˆ ì•„ì´í…œ í…Œì´ë¸”
- `orders`: ì£¼ë¬¸ ì •ë³´ í…Œì´ë¸”
- `order_items`: ì£¼ë¬¸ ìƒì„¸ ì•„ì´í…œ í…Œì´ë¸”

#### 7. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

**7-1. .env íŒŒì¼ ìƒì„±**

```bash
cp .env.example .env
```

**7-2. Supabase í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**

1. Supabase Dashboard â†’ **Settings** â†’ **API**
2. ë‹¤ìŒ ê°’ë“¤ì„ ë³µì‚¬í•˜ì—¬ `.env` íŒŒì¼ì— ì…ë ¥:
   ```env
   NEXT_PUBLIC_SUPABASE_URL="<Project URL>"
   NEXT_PUBLIC_SUPABASE_ANON_KEY="<anon public key>"
   SUPABASE_SERVICE_ROLE_KEY="<service_role secret key>"
   NEXT_PUBLIC_STORAGE_BUCKET="uploads"
   ```

> **âš ï¸ ì£¼ì˜**: `service_role` í‚¤ëŠ” ëª¨ë“  RLSë¥¼ ìš°íšŒí•˜ëŠ” ê´€ë¦¬ì ê¶Œí•œì´ë¯€ë¡œ ì ˆëŒ€ ê³µê°œí•˜ì§€ ë§ˆì„¸ìš”!

**7-3. Clerk í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**

1. Clerk Dashboard â†’ **API Keys**
2. ë‹¤ìŒ ê°’ë“¤ì„ ë³µì‚¬í•˜ì—¬ `.env` íŒŒì¼ì— ì…ë ¥:
   ```env
   NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="<Publishable Key>"
   CLERK_SECRET_KEY="<Secret Key>"
   NEXT_PUBLIC_CLERK_SIGN_IN_URL="/sign-in"
   NEXT_PUBLIC_CLERK_SIGN_IN_FALLBACK_REDIRECT_URL="/"
   NEXT_PUBLIC_CLERK_SIGN_UP_FALLBACK_REDIRECT_URL="/"
   ```

#### 8. ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
pnpm dev
```

ë¸Œë¼ìš°ì €ì—ì„œ [http://localhost:3000](http://localhost:3000)ì„ ì—´ì–´ í™•ì¸í•©ë‹ˆë‹¤.

### ê°œë°œ ëª…ë ¹ì–´

```bash
# ê°œë°œ ì„œë²„ ì‹¤í–‰ (Turbopack)
pnpm dev

# í”„ë¡œë•ì…˜ ë¹Œë“œ
pnpm build

# í”„ë¡œë•ì…˜ ì„œë²„ ì‹¤í–‰
pnpm start

# ë¦°íŒ…
pnpm lint

# E2E í…ŒìŠ¤íŠ¸ ì‹¤í–‰
pnpm test

# E2E í…ŒìŠ¤íŠ¸ UI ëª¨ë“œ
pnpm test:ui

# E2E í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸ ë³´ê¸°
pnpm test:report
```

## ì¶”ê°€ ì„¤ì • ë° íŒ

### ìƒí’ˆ ë“±ë¡

ìƒí’ˆì€ Supabase ëŒ€ì‹œë³´ë“œì—ì„œ ì§ì ‘ ë“±ë¡í•©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [ì–´ë“œë¯¼ ìƒí’ˆ ê´€ë¦¬ ê°€ì´ë“œ](./docs/ADMIN_PRODUCT_MANAGEMENT.md)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

### Clerk í•œêµ­ì–´ ì„¤ì •

í”„ë¡œì íŠ¸ì— ì´ë¯¸ Clerk í•œêµ­ì–´ ë¡œì»¬ë¼ì´ì œì´ì…˜ì´ ì ìš©ë˜ì–´ ìˆìŠµë‹ˆë‹¤. `app/layout.tsx`ì˜ `ClerkProvider`ì—ì„œ `koKR` localeì´ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

ìì„¸í•œ ë‚´ìš©ì€ [Clerk í•œêµ­ì–´ ë¡œì»¬ë¼ì´ì œì´ì…˜ ê°€ì´ë“œ](./docs/CLERK_LOCALIZATION.md)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

### Supabase RLS (Row Level Security) ì •ì±…

í”„ë¡œì íŠ¸ì˜ ëª¨ë“  í…Œì´ë¸”ì€ ê°œë°œ ë‹¨ê³„ì´ë¯€ë¡œ RLSê°€ ë¹„í™œì„±í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤. í”„ë¡œë•ì…˜ ë°°í¬ ì „ì—ëŠ” ë°˜ë“œì‹œ RLSë¥¼ í™œì„±í™”í•˜ê³  ì ì ˆí•œ ì •ì±…ì„ ì ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

**RLS ì •ì±… ì˜ˆì‹œ:**
- `supabase/migrations/20250101000000_clerk_rls_policies_example.sql` íŒŒì¼ ì°¸ê³ 
- [í†µí•© ê°€ì´ë“œ ë¬¸ì„œ](./docs/CLERK_SUPABASE_INTEGRATION.md#rls-ì •ì±…-ì„¤ì •)ì—ì„œ ìƒì„¸ ì„¤ëª… í™•ì¸

**Clerk user ID ê¸°ë°˜ RLS ì •ì±… ì˜ˆì‹œ:**

```sql
-- ì‚¬ìš©ìê°€ ìì‹ ì˜ ë°ì´í„°ë§Œ ì¡°íšŒ ê°€ëŠ¥
CREATE POLICY "Users can view their own data"
ON "public"."your_table"
FOR SELECT
TO authenticated
USING (
  (SELECT auth.jwt()->>'sub') = clerk_id::text
);

-- ì‚¬ìš©ìê°€ ìì‹ ì˜ ë°ì´í„°ë§Œ ìƒì„± ê°€ëŠ¥
CREATE POLICY "Users can insert their own data"
ON "public"."your_table"
FOR INSERT
TO authenticated
WITH CHECK (
  (SELECT auth.jwt()->>'sub') = clerk_id::text
);
```

> **ì°¸ê³ **: `auth.jwt()->>'sub'`ëŠ” Clerk user IDë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì´ ê°’ì€ í…Œì´ë¸”ì˜ `clerk_id` ì»¬ëŸ¼ê³¼ ë¹„êµí•´ì•¼ í•©ë‹ˆë‹¤.

### ì¶”ê°€ ë¡œê·¸ì¸ ë°©ì‹ ì„¤ì •

Clerkì—ì„œ ì¶”ê°€ ë¡œê·¸ì¸ ë°©ì‹ì„ í™œì„±í™”í•˜ë ¤ë©´:

1. Clerk Dashboard â†’ **User & Authentication** â†’ **Social Connections**
2. ì›í•˜ëŠ” ì œê³µì ì„ íƒ (Google, GitHub, Discord ë“±)
3. OAuth ìê²© ì¦ëª… ì…ë ¥ (ì œê³µì ê°œë°œì ì½˜ì†”ì—ì„œ ìƒì„±)
4. **Enable** í´ë¦­

### ë°°í¬

Vercel ë°°í¬ ê°€ì´ë“œëŠ” [ë°°í¬ ê°€ì´ë“œ ë¬¸ì„œ](./docs/DEPLOYMENT.md)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
shopping_mall_mvp_w_boilerplate/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ api/               # API Routes
â”‚   â”‚   â””â”€â”€ sync-user/    # Clerk â†’ Supabase ì‚¬ìš©ì ë™ê¸°í™”
â”‚   â”œâ”€â”€ cart/             # ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€
â”‚   â”œâ”€â”€ checkout/         # ì£¼ë¬¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ mypage/           # ë§ˆì´í˜ì´ì§€
â”‚   â”‚   â””â”€â”€ orders/       # ì£¼ë¬¸ ìƒì„¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ orders/           # ì£¼ë¬¸ ì™„ë£Œ í˜ì´ì§€
â”‚   â”œâ”€â”€ products/         # ìƒí’ˆ ëª©ë¡/ìƒì„¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ layout.tsx        # Root Layout (Clerk Provider)
â”‚   â”œâ”€â”€ page.tsx          # í™ˆí˜ì´ì§€
â”‚   â””â”€â”€ globals.css       # ì „ì—­ ìŠ¤íƒ€ì¼ (Tailwind v4 ì„¤ì •)
â”‚
â”œâ”€â”€ actions/               # Server Actions
â”‚   â”œâ”€â”€ cart.ts           # ì¥ë°”êµ¬ë‹ˆ ê´€ë ¨ Server Actions
â”‚   â””â”€â”€ order.ts          # ì£¼ë¬¸ ê´€ë ¨ Server Actions
â”‚
â”œâ”€â”€ components/            # React ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ui/               # shadcn/ui ì»´í¬ë„ŒíŠ¸ (ìë™ ìƒì„±)
â”‚   â”œâ”€â”€ providers/        # Context Providers
â”‚   â”‚   â””â”€â”€ sync-user-provider.tsx
â”‚   â”œâ”€â”€ add-to-cart-button.tsx
â”‚   â”œâ”€â”€ cart-badge.tsx
â”‚   â”œâ”€â”€ cart-item.tsx
â”‚   â”œâ”€â”€ cart-items-list.tsx
â”‚   â”œâ”€â”€ cart-summary.tsx
â”‚   â”œâ”€â”€ checkout-form.tsx
â”‚   â”œâ”€â”€ Navbar.tsx
â”‚   â”œâ”€â”€ order-detail.tsx
â”‚   â”œâ”€â”€ order-list.tsx
â”‚   â”œâ”€â”€ order-status-badge.tsx
â”‚   â”œâ”€â”€ order-summary.tsx
â”‚   â”œâ”€â”€ product-card.tsx
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ lib/                   # ìœ í‹¸ë¦¬í‹° ë° ì„¤ì •
â”‚   â”œâ”€â”€ supabase/         # Supabase í´ë¼ì´ì–¸íŠ¸ë“¤
â”‚   â”‚   â”œâ”€â”€ clerk-client.ts    # Client Componentìš©
â”‚   â”‚   â”œâ”€â”€ server.ts          # Server Componentìš©
â”‚   â”‚   â”œâ”€â”€ service-role.ts    # ê´€ë¦¬ììš©
â”‚   â”‚   â””â”€â”€ client.ts          # ê³µê°œ ë°ì´í„°ìš©
â”‚   â””â”€â”€ utils.ts          # ê³µí†µ ìœ í‹¸ë¦¬í‹° (cn í•¨ìˆ˜ ë“±)
â”‚
â”œâ”€â”€ hooks/                 # Custom React Hooks
â”‚   â””â”€â”€ use-sync-user.ts  # ì‚¬ìš©ì ë™ê¸°í™” í›…
â”‚
â”œâ”€â”€ types/                 # TypeScript íƒ€ì… ì •ì˜
â”‚   â”œâ”€â”€ cart.ts
â”‚   â”œâ”€â”€ order.ts
â”‚   â”œâ”€â”€ product.ts
â”‚   â””â”€â”€ category.ts
â”‚
â”œâ”€â”€ supabase/             # Supabase ê´€ë ¨ íŒŒì¼
â”‚   â”œâ”€â”€ migrations/       # ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â”‚   â””â”€â”€ db.sql       # ì´ˆê¸° ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ config.toml       # Supabase í”„ë¡œì íŠ¸ ì„¤ì •
â”‚
â”œâ”€â”€ tests/                # E2E í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ e2e/              # E2E í…ŒìŠ¤íŠ¸ íŒŒì¼
â”‚   â””â”€â”€ fixtures/         # í…ŒìŠ¤íŠ¸ í”½ìŠ¤ì²˜
â”‚
â”œâ”€â”€ docs/                  # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”‚   â”œâ”€â”€ TODO.md           # ê°œë°œ TODO
â”‚   â”œâ”€â”€ prd.md            # ì œí’ˆ ìš”êµ¬ì‚¬í•­ ë¬¸ì„œ
â”‚   â”œâ”€â”€ DEPLOYMENT.md     # ë°°í¬ ê°€ì´ë“œ
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ .cursor/              # Cursor AI ê·œì¹™
â”‚   â””â”€â”€ rules/           # ê°œë°œ ì»¨ë²¤ì…˜ ë° ê°€ì´ë“œ
â”‚
â”œâ”€â”€ middleware.ts         # Next.js ë¯¸ë“¤ì›¨ì–´ (Clerk)
â”œâ”€â”€ playwright.config.ts  # Playwright ì„¤ì •
â”œâ”€â”€ vercel.json          # Vercel ë°°í¬ ì„¤ì •
â”œâ”€â”€ .env.example         # í™˜ê²½ ë³€ìˆ˜ ì˜ˆì‹œ
â””â”€â”€ CLAUDE.md            # AI ì—ì´ì „íŠ¸ìš© í”„ë¡œì íŠ¸ ê°€ì´ë“œ
```

### ì£¼ìš” íŒŒì¼ ì„¤ëª…

- **`middleware.ts`**: Clerk ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ ì„¤ì •
- **`app/layout.tsx`**: ClerkProviderì™€ SyncUserProvider ì„¤ì •
- **`lib/supabase/`**: í™˜ê²½ë³„ Supabase í´ë¼ì´ì–¸íŠ¸ (ë§¤ìš° ì¤‘ìš”!)
- **`hooks/use-sync-user.ts`**: Clerk ì‚¬ìš©ìë¥¼ Supabaseì— ìë™ ë™ê¸°í™”
- **`components/providers/sync-user-provider.tsx`**: ì•± ì „ì—­ì—ì„œ ì‚¬ìš©ì ë™ê¸°í™” ì‹¤í–‰
- **`actions/cart.ts`**: ì¥ë°”êµ¬ë‹ˆ ê´€ë ¨ Server Actions
- **`actions/order.ts`**: ì£¼ë¬¸ ê´€ë ¨ Server Actions
- **`CLAUDE.md`**: Claude Codeë¥¼ ìœ„í•œ í”„ë¡œì íŠ¸ ê°€ì´ë“œ

## ì¶”ê°€ ë¦¬ì†ŒìŠ¤

### ê³µì‹ ë¬¸ì„œ
- [Next.js 15 ë¬¸ì„œ](https://nextjs.org/docs)
- [Clerk ë¬¸ì„œ](https://clerk.com/docs)
- [Supabase ë¬¸ì„œ](https://supabase.com/docs)
- [shadcn/ui ë¬¸ì„œ](https://ui.shadcn.com/)
- [Tailwind CSS v4 ë¬¸ì„œ](https://tailwindcss.com/docs)
- [Playwright ë¬¸ì„œ](https://playwright.dev/)

### í”„ë¡œì íŠ¸ ë¬¸ì„œ
- [ì œí’ˆ ìš”êµ¬ì‚¬í•­ ë¬¸ì„œ](./docs/prd.md) - í”„ë¡œì íŠ¸ ì „ì²´ ìš”êµ¬ì‚¬í•­
- [ê°œë°œ TODO](./docs/TODO.md) - ê°œë°œ ì§„í–‰ ìƒí™©
- [ë°°í¬ ê°€ì´ë“œ](./docs/DEPLOYMENT.md) - Vercel ë°°í¬ ê°€ì´ë“œ
- [Supabase + Next.js ì„¤ì • ê°€ì´ë“œ](./docs/SUPABASE_NEXTJS_SETUP.md) - Supabase ê³µì‹ ë¬¸ì„œ ê¸°ë°˜ ì„¤ì • ê°€ì´ë“œ
- [Clerk + Supabase í†µí•© ê°€ì´ë“œ](./docs/CLERK_SUPABASE_INTEGRATION.md) - ìƒì„¸í•œ í†µí•© ì„¤ì • ë° ì‚¬ìš©ë²•
- [Clerk + Supabase ì„¤ì • ê°€ì´ë“œ](./docs/SETUP_GUIDE.md) - ë‹¨ê³„ë³„ ì„¤ì • ë°©ë²•
- [Clerk í•œêµ­ì–´ ë¡œì»¬ë¼ì´ì œì´ì…˜ ê°€ì´ë“œ](./docs/CLERK_LOCALIZATION.md) - Clerk ì»´í¬ë„ŒíŠ¸ í•œêµ­ì–´ ì„¤ì •
- [ì–´ë“œë¯¼ ìƒí’ˆ ê´€ë¦¬ ê°€ì´ë“œ](./docs/ADMIN_PRODUCT_MANAGEMENT.md) - Supabase ëŒ€ì‹œë³´ë“œì—ì„œ ìƒí’ˆ ë“±ë¡/ìˆ˜ì • ë°©ë²•
- [í”„ë¡œì íŠ¸ êµ¬ì¡° ê°€ì´ë“œ](./docs/DIR.md)

## ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ë¥¼ ë”°ë¦…ë‹ˆë‹¤.
