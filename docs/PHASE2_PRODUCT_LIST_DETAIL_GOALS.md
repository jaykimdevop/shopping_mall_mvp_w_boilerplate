# Phase 2: 상품 목록 페이지 & 상품 상세 페이지 구현 목표

## 📋 개요

상품 목록 페이지와 상품 상세 페이지를 구현하여 사용자가 상품을 탐색하고 상세 정보를 확인할 수 있도록 합니다.

## 🎯 구현 목표

### 1. 상품 목록 페이지 (`/products`)

#### 1.1 라우팅 및 쿼리 파라미터
- **경로**: `/products`
- **쿼리 파라미터**:
  - `category`: 카테고리 필터 (선택사항)
  - `sort`: 정렬 옵션 (기본값: `newest`)
  - `page`: 페이지 번호 (더보기 버튼 방식이므로 선택사항)

#### 1.2 카테고리 필터링
- URL 쿼리 파라미터 `category`로 필터링
- 카테고리 선택 시 해당 카테고리 상품만 표시
- "전체" 옵션으로 모든 상품 표시
- 카테고리 필터 UI (탭 또는 드롭다운)

#### 1.3 정렬 기능
- **정렬 옵션**: 최신순 (기본값)
- 정렬 UI (드롭다운 또는 버튼)
- URL 쿼리 파라미터로 상태 관리

#### 1.4 페이지네이션
- **방식**: "더보기" 버튼
- 초기 로드: 20개 상품
- "더보기" 클릭 시 추가 20개 로드
- 더 이상 로드할 상품이 없으면 버튼 숨김

#### 1.5 레이아웃
- 기존 `ProductGrid` 컴포넌트 재사용
- 필터/정렬 UI는 상단에 배치
- 반응형 디자인 유지

### 2. 상품 상세 페이지 (`/products/[id]`)

#### 2.1 라우팅
- **경로**: `/products/[id]`
- **동적 라우팅**: Next.js App Router의 동적 세그먼트 사용

#### 2.2 상품 정보 표시
- **상품 이미지**: 플레이스홀더 (나중에 실제 이미지로 교체 가능)
- **상품명**: `name`
- **가격**: `price` (천 단위 콤마 표시)
- **카테고리**: `category` (한글 표시)
- **재고 상태**: `stock_quantity` (재고 있음/부족/품절 표시)
- **전체 설명**: `description` (전체 텍스트 표시)
- **등록일**: `created_at` (선택사항)

#### 2.3 수량 선택
- 수량 선택 UI (증가/감소 버튼 또는 입력 필드)
- 최소 1개, 최대 재고 수량까지 선택 가능
- 재고가 0이면 수량 선택 비활성화

#### 2.4 장바구니 추가 기능
- "장바구니에 추가" 버튼
- 수량과 함께 장바구니에 추가
- 클릭 시 성공 메시지 표시 (Toast 또는 Alert)
- Phase 3에서 실제 장바구니 기능 구현 예정이므로, 현재는 UI만 준비

#### 2.5 관련 상품 추천
- 같은 카테고리의 다른 상품 4-6개 표시
- 현재 상품 제외
- 가로 스크롤 또는 Grid 레이아웃
- 기존 `ProductCard` 컴포넌트 재사용

#### 2.6 레이아웃
- 상품 이미지와 정보를 좌우로 배치 (데스크톱)
- 모바일에서는 세로 배치
- 반응형 디자인

### 3. 공통 기능

#### 3.1 데이터 페칭
- **방식**: Server Component에서 데이터 페칭
- **클라이언트**: `createPublicSupabaseClient()` 사용 (공개 데이터)
- **에러 처리**: 사용자 친화적 에러 메시지
- **로딩 상태**: Suspense를 사용한 로딩 처리

#### 3.2 SEO 및 메타데이터
- 상품 상세 페이지에 적절한 메타데이터 설정
- Open Graph 태그 (선택사항)

## 📁 파일 구조

```
app/
  products/
    page.tsx                    # 상품 목록 페이지
    [id]/
      page.tsx                  # 상품 상세 페이지
components/
  product-filters.tsx            # 필터/정렬 UI 컴포넌트 (선택사항)
  product-detail.tsx             # 상품 상세 정보 컴포넌트
  quantity-selector.tsx          # 수량 선택 컴포넌트
  related-products.tsx           # 관련 상품 섹션 컴포넌트
actions/
  products.ts                    # 상품 관련 Server Actions (선택사항)
```

## 🔧 기술 스택

- **Next.js 15**: Server Component, 동적 라우팅
- **Supabase**: 데이터 페칭
- **Tailwind CSS v4**: 스타일링
- **TypeScript**: 타입 안전성

## ✅ 완료 기준

### 상품 목록 페이지
1. `/products` 경로에서 상품 목록이 표시됨
2. 카테고리 필터링이 정상 작동함
3. 정렬 기능이 정상 작동함
4. "더보기" 버튼으로 추가 상품을 로드할 수 있음
5. 로딩/에러 상태가 적절히 처리됨
6. 반응형 디자인이 모든 화면 크기에서 작동함

### 상품 상세 페이지
1. `/products/[id]` 경로에서 상품 상세 정보가 표시됨
2. 존재하지 않는 상품 ID에 대한 404 처리
3. 수량 선택 기능이 정상 작동함
4. 장바구니 추가 버튼이 표시됨 (Phase 3에서 실제 기능 구현)
5. 관련 상품이 표시됨
6. 로딩/에러 상태가 적절히 처리됨
7. 반응형 디자인이 모든 화면 크기에서 작동함

## 📝 구현 순서

### 상품 목록 페이지
1. **라우팅 설정** (`app/products/page.tsx`)
2. **쿼리 파라미터 처리** (category, sort)
3. **필터/정렬 UI 컴포넌트** (선택사항)
4. **데이터 페칭 로직** (필터링, 정렬 적용)
5. **더보기 버튼 구현** (Client Component)
6. **로딩/에러 상태 처리**

### 상품 상세 페이지
1. **동적 라우팅 설정** (`app/products/[id]/page.tsx`)
2. **상품 데이터 페칭** (ID로 조회)
3. **상품 상세 정보 컴포넌트**
4. **수량 선택 컴포넌트**
5. **장바구니 추가 버튼** (UI만, 기능은 Phase 3)
6. **관련 상품 섹션**
7. **404 처리** (존재하지 않는 상품)
8. **로딩/에러 상태 처리**

## 🎨 디자인 가이드라인

### 상품 목록 페이지
- 필터/정렬 UI는 상단에 배치
- 기존 `ProductGrid` 스타일 유지
- "더보기" 버튼은 하단 중앙에 배치

### 상품 상세 페이지
- 상품 이미지: 왼쪽 또는 상단
- 상품 정보: 오른쪽 또는 하단
- 수량 선택과 장바구니 버튼은 함께 배치
- 관련 상품은 하단에 섹션으로 배치

## 🔗 관련 파일

- `app/page.tsx`: 홈 페이지 (카테고리 링크)
- `components/product-card.tsx`: 상품 카드 (상세 페이지 링크)
- `components/product-grid.tsx`: 상품 Grid 레이아웃
- `components/category-card.tsx`: 카테고리 카드 (목록 페이지 링크)
- `types/product.ts`: Product 타입 정의
- `lib/supabase/client.ts`: Supabase 클라이언트

## 📌 참고사항

- 장바구니 추가 기능은 Phase 3에서 실제 구현 예정
- 현재는 버튼과 UI만 준비하고, 클릭 시 메시지만 표시
- 상품 이미지는 플레이스홀더 사용 (나중에 실제 이미지로 교체)
- 관련 상품은 같은 카테고리 내에서 랜덤 또는 최신순으로 선택

